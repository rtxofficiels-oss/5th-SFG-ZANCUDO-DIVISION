<!doctype html>
<html lang=fr>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>5th SFG ZANCUDO DIVISION</title>
<meta http-equiv=Content-Security-Policy content=" default-src 'self' https://www.gstatic.com; script-src 'self' 'unsafe-inline' https://www.gstatic.com https://apis.google.com; connect-src 'self' https://sfg-zancudo-division-default-rtdb.europe-west1.firebasedatabase.app wss://sfg-zancudo-division-default-rtdb.europe-west1.firebasedatabase.app; style-src 'self' 'unsafe-inline'; img-src 'self' data: https://images.unsplash.com;">
<link rel=stylesheet href=style.css>
<style>#defcon-overlay{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;transition:background 1.5s ease;background:rgba(0,0,0,0)}#dashboard,#login-screen{position:relative;z-index:10}@keyframes blink-red{0%{opacity:1;border-color:red;box-shadow:inset 0 0 15px red}50%{opacity:.7;border-color:#500;box-shadow:inset 0 0 5px #500}100%{opacity:1;border-color:red;box-shadow:inset 0 0 15px red}}.blink-active{animation:blink-red 1s infinite!important;background:rgba(237,7,7,.2)!important}</style>
</head>
<body oncontextmenu=return!1> <div id=defcon-overlay></div>
<div id=login-screen>
<div class=login-box>
<h2 style=color:var(--green-bright);border:none;padding:0;margin-bottom:20px>5th SFG ZANCUDO DIVISION</h2>
<input id=user placeholder=USER autocomplete=off>
<input type=password id=pass placeholder=PASSWORD>
<br>
<button id=login-btn onclick=window.accessGranted()>CONNECTION</button>
</div>
</div>
<div id=dashboard style="display:none;border-top:4px solid #0f0;transition:all .5s ease">
<header>
<nav id=main-nav>
<div class="nav-item active" onclick='window.showTab("home")'>Accueil</div>
<div class=nav-item onclick='window.showTab("connexions")'>Connexions</div>
<div class=nav-item onclick='window.showTab("op-running")'>Opérations</div>
<div class=nav-item onclick='window.showTab("depart")'>Déploiement</div>
<div class=nav-item onclick='window.showTab("absence")'>Absences</div>
<div class=nav-item onclick='window.showTab("otages-hexa")'>Hexa</div>
<div class=nav-item onclick='window.showTab("otages-res")'>Résistants</div>
<div class=nav-item onclick='window.showTab("rapport")'>Rapport</div>
<div class=nav-item onclick='window.showTab("comms")'>Comms</div>
</nav>
<div class=header-right style=display:flex;align-items:center>
<div id=alert-status-container style="margin-right:15px;border:1px solid #444;padding:2px 8px;background:rgba(0,0,0,.8);display:flex;align-items:center;gap:5px">
<label style=font-size:.65rem;color:#888;font-family:monospace>ALERT_LEVEL:</label>
<select id=defcon-selector onchange=window.changeDefcon(this.value) style="background:0 0;color:#8db600;border:none;font-family:monospace;cursor:pointer;font-weight:700;font-size:.8rem;outline:0">
<option value=5 style=background:#000;color:#8db600>DEFCON 5</option>
<option value=4 style=background:#000;color:#8db600>DEFCON 4</option>
<option value=3 style=background:#000;color:#c1630b>DEFCON 3</option>
<option value=2 style=background:#000;color:#be2727>DEFCON 2</option>
<option value=1 style=background:#000;color:#ed0707>DEFCON 1</option>
</select>
</div>
<div id=op-widget onclick='window.showTab("op-running")' style="cursor:pointer;border:1px solid var(--green-army);padding:2px 8px">
ACTIVES : <span id=widget-count style=color:var(--green-bright)>0</span>
</div>
<button class=btn-logout onclick=window.logout() style=margin-left:10px>LOGOUT</button>
</div>
</header>
<div class=main-content>
<div id=home class="content-section active">
<h2>> TERMINAL D'ACCUEIL</h2>
<div style="background:rgba(0,0,0,.7);padding:20px;border:1px solid var(--green-army)">
<p>Bienvenue, Opérateur <span id=display-user style=color:var(--green-bright)></span>.</p>
<p id=system-clock style=color:var(--green-bright);font-size:1.1rem></p>
<p style=font-size:.8rem;color:#666>Surveillance satellite active.</p>
</div>
</div>
<div id=comms class=content-section>
<h2>> COMMUNICATIONS SÉCURISÉES</h2>
<div id=comms-form>
<textarea id=comms-msg maxlength=500 placeholder="Message max 500 car."></textarea>
<button onclick=window.sendComm()>ENVOYER</button>
</div>
<div id=comms-archive-list></div>
</div>
</div>
</div>
<script type=module>import{initializeApp}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";import{getDatabase,ref,set,onValue,onDisconnect,serverTimestamp}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";const firebaseConfig={apiKey:"AIzaSyD837-8hJ_B4XPJuXTE8i29bAMTSy2VQo",authDomain:"sfg-zancudo-division.firebaseapp.com",databaseURL:"https://sfg-zancudo-division-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sfg-zancudo-division",storageBucket:"sfg-zancudo-division.firebasestorage.app",messagingSenderId:"975179018138",appId:"1:975179018138:web:45410cd990b2ee39a81423"},app=initializeApp(firebaseConfig),db=getDatabase(app);window.updateGlobalData=e=>set(ref(db,"global/"),e),window.updateStatus=(e,a)=>{const s=ref(db,"users/"+e);"online"===a?(set(s,{status:"online",last_changed:serverTimestamp()}),onDisconnect(s).set({status:"offline",last_changed:serverTimestamp()})):set(s,{status:"offline",last_changed:serverTimestamp()})},onValue(ref(db,"/"),(e=>{const a=e.val();a&&window.refreshUIdisplay&&window.refreshUIdisplay(a)}))</script>
<script>window.addEventListener("keydown",(e=>{if("F12"===e.key||e.ctrlKey&&e.shiftKey&&("I"===e.key||"C"===e.key||"J"===e.key)||e.ctrlKey&&"u"===e.key)return e.preventDefault(),!1}));let devtools=function(){};devtools.toString=function(){return console.warn("%cACCÈS REFUSÉ - SURVEILLANCE ACTIVE","color:red; font-size:20px; font-weight:bold;"),""},console.log("%c",devtools)</script>
<script type=module src=script.js></script>
</body>
</html>
